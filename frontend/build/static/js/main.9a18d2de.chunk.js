(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{148:function(e,a,t){e.exports=t(269)},155:function(e,a,t){},264:function(e,a,t){},269:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(13),c=t.n(l),s=(t(153),t(154),t(155),t(5)),o=t(35),i=t(4),m=t(277),p=function(e){return n.a.createElement("div",{className:e.col},n.a.createElement("label",{htmlFor:e.inputType},e.typeText,":"),n.a.createElement("input",{type:e.type,className:e.className,id:e.inputType,"aria-describedby":e.typeHelp,onChange:e.onchange,required:!0,placeholder:e.placeholder,value:e.value}))},u=t(23),d=t.n(u),E=t(39),g=t.n(E),b=function(e,a){var t=Object(r.useRef)(!1);Object(r.useEffect)((function(){t.current?e():t.current=!0}),a)},f=t(19),h=Object(f.a)(),v="REMOVE_USER",y="USER_IN",N="LOGGIN",w=Object(r.createContext)({state:{}}),O=t(275),j=function(e){var a=Object(r.useState)(!1),t=Object(s.a)(a,2),n=t[0],l=t[1],c=Object(r.useState)([]),o=Object(s.a)(c,2),m=o[0],p=o[1],u=Object(r.useState)({isError:!1,message:""}),E=Object(s.a)(u,2),b=E[0],f=E[1],h="".concat("https://bungomaplus.herokuapp.com/api/").concat(e);return Object(r.useEffect)((function(){!function(){var e;d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return f(Object(i.a)({},b,{isError:!1})),l(!0),a.prev=2,a.next=5,d.a.awrap(g()(h));case 5:e=a.sent,p(e.data),localStorage.setItem("properties",JSON.stringify(e.data)),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(2),f(Object(i.a)({},b,{isError:!0})),"Network Error"===a.t0.message?f(Object(i.a)({},b,{message:"You seem to be offline"})):f(Object(i.a)({},b,{message:a.t0.response.data.error}));case 14:l(!1);case 15:case"end":return a.stop()}}),null,null,[[2,10]])}()}),[]),[{data:m,isLoading:n,error:b}]},k=function(){var e=Object(r.useState)({}),a=Object(s.a)(e,2),t=a[0],n=a[1],l=Object(r.useState)(""),c=Object(s.a)(l,2),o=c[0],m=c[1],p=Object(r.useState)(!1),u=Object(s.a)(p,2),E=u[0],f=u[1],v=Object(r.useState)({isError:!1,message:""}),O=Object(s.a)(v,2),j=O[0],k=O[1],S=Object(r.useState)(!1),C=Object(s.a)(S,2),x=C[0],L=C[1],A=Object(r.useContext)(w);return b((function(){!function(){var e;d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return k(Object(i.a)({},j,{isError:!1})),L(!0),a.prev=2,a.next=5,d.a.awrap(g.a.post(o,t));case 5:e=a.sent,A({type:y,user:e.data}),localStorage.setItem("user",JSON.stringify(e.data)),e.data.hasOwnProperty("user")?(A({type:N}),localStorage.setItem("token",JSON.stringify(e.data.user.token)),localStorage.setItem("isLoggedIn",!0),h.push({pathname:"/dashboard/users/".concat(e.data.user.id),state:e.data})):h.push({pathname:"/login",state:e.data}),L(!1),a.next=17;break;case 12:a.prev=12,a.t0=a.catch(2),f(!1),L(!1),"Network Error"===a.t0.message?k(Object(i.a)({},a.t0,{message:"Seems you're offline!",isError:!0})):400===a.t0.response.status?k(Object(i.a)({},a.t0,{message:"Email or phonenumber is registered",isError:!0})):401===a.t0.response.status?k({error:a.t0,message:a.t0.response.data.error,isError:!0}):console.log(a.t0);case 17:case"end":return a.stop()}}),null,null,[[2,12]])}()}),[o,E]),[x,j,m,n,f]},S=function(){var e=Object(r.useState)({}),a=Object(s.a)(e,2),t=a[0],l=a[1],c=k(),o=Object(s.a)(c,5),u=o[0],d=o[1],E=o[2],g=o[3],b=o[4],f=function(e){var a=e.target.type,r=e.target.value;"email"===a?l(Object(i.a)({},t,{email:r})):"tel"===a?l(Object(i.a)({},t,{phonenumber:r})):"password"===a&&l(Object(i.a)({},t,{password:r}))};return n.a.createElement("div",null,d.isError?n.a.createElement("div",{className:"antd-holder"},n.a.createElement(m.a,{message:d.message,className:"antd-alert",closable:!0,type:"error",closeText:"Dismiss!"})):n.a.createElement("div",{className:"display-none"}),n.a.createElement("form",{className:"signupForm",onSubmit:function(e){e.preventDefault(),E("".concat("https://bungomaplus.herokuapp.com/api/auth/signup/")),g(t),b(!0)}},n.a.createElement("h4",{className:"h5 pb-3"},"Register for Free"),n.a.createElement("div",{className:"form-group form-row"},n.a.createElement(p,{inputType:"inputEmail",type:"email",onchange:function(e){return f(e)},placeholder:"eg. wekesa@gmail.com",typeText:"Email",className:"form-control",col:"form-group col-md-6"}),n.a.createElement(p,{inputType:"inputTel",type:"tel",onchange:function(e){return f(e)},placeholder:"eg. 0721...",typeText:"Phone Number",className:"form-control",col:"form-group col-md-6"})),n.a.createElement("div",{className:"form-group"},n.a.createElement(p,{inputType:"inputPassword",type:"password",onchange:function(e){return f(e)},placeholder:"*****",typeText:"Password",className:"form-control"})),n.a.createElement("button",{type:"submit",disabled:u,className:"btn btn-primary btn-block"},u?"Signing up..":"Signup")))},C=t(21),x=t(22),L=t(144),A=function(e){return e.toFixed(2).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},T=function(){var e=Object(r.useState)([]),a=Object(s.a)(e,2),t=a[0],l=a[1],c=Object(r.useState)([]),o=Object(s.a)(c,2),i=o[0],m=o[1],p="https://bungomaplus.herokuapp.com/api/properties",u=function(){var e=JSON.parse(localStorage.getItem("user"));e?h.push("/dashboard/users/".concat(e.user.id)):h.push("/login")};return Object(r.useEffect)((function(){!function(){var e;d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.awrap(g()(p+"/types/"));case 2:e=a.sent,l(e.data);case 4:case"end":return a.stop()}}))}()}),[]),Object(r.useEffect)((function(){!function(){var e;d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.awrap(g()(p+"/all"));case 2:e=a.sent,m(e.data);case 4:case"end":return a.stop()}}))}()}),[]),n.a.createElement("div",null,n.a.createElement("div",{className:"jumbotron rounded-0"},n.a.createElement("h3",{className:"display-3 pb-4"},"Rent or Sell properties in Bungoma County easily."),n.a.createElement("h2",{className:"display-4"},n.a.createElement(L.a,{interval:2e3,children:["Buy or Lease Land.","Find houses to Rent.","Find Hostels.","Search for Stalls and Shops.","Lease or rent Offices."]})),n.a.createElement("p",{className:"lead pt-4 pb-4"},"We help clients circumnavigate brokers and help property owners maximize profits from their properties."),n.a.createElement("div",{className:"inline-block",id:"inline-block"},n.a.createElement("a",{href:"/properties",className:"btn btn-lg"},"I AM LOOKING")," ",n.a.createElement("button",{className:"btn btn-lg ml-3",onClick:u},"I AM SELLING")),n.a.createElement("p",{className:"call-now-p"},"Need help? Call +(254)-721-175171")),n.a.createElement("div",{className:"container"},n.a.createElement("h4",{className:"h5"},"Propety Categories"),n.a.createElement("ul",{className:"row no-gutters pl-3"},t.map((function(e){return n.a.createElement("li",{key:e.id,className:"navbar-nav card m-2"},n.a.createElement("img",{src:e.image,alt:e.name,className:"card-img-top img-fluid"}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h4",{className:"card-title",id:"home-type"},e.name),n.a.createElement("a",{className:"btn btn-lg btn-block",id:"homeTypeButton",href:"/properties/".concat(e.name.toLowerCase())},"All ",e.name)))})))),n.a.createElement("div",{className:"container-fluid mt-5 pb-3"},n.a.createElement("a",{className:"see-all",href:"/properties"},n.a.createElement("span",{className:"see-all-highlight"}," See all properties ",n.a.createElement(C.a,{icon:x.a})," ")),n.a.createElement("ul",{className:"row pt-5"},i.slice(0,4).map((function(e){return n.a.createElement("li",{key:e.id,className:"navbar-nav card"},n.a.createElement("img",{src:e.image,alt:e.name,className:"card-img-top img-fluid"}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h4",{className:"card-title"},e.title.length>30?"".concat(e.title.slice(0,30),"..."):e.title),n.a.createElement("div",{className:"row pt-2 pb-4"},n.a.createElement("span",{className:"col-7"},e.locality," in ",e.ward,", ",e.division),n.a.createElement("span",{className:"col-5",id:"price"},"Ksh. ",A(e.price))),n.a.createElement("a",{className:"btn btn-lg btn-block",href:"/"},"View property details")))})))),n.a.createElement("div",{className:"container how-it-works"},n.a.createElement("h4",{className:"h5",id:"h5"},"How it Works"),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"card"},n.a.createElement("img",{src:"https://res.cloudinary.com/ddfufqlbx/image/upload/v1578100802/phonehand.png",alt:"step-1"}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h4",{className:"h5"},"Post your property"),n.a.createElement("p",{className:"card-text"},"Use your phone to list your property and let BuyRentBungoma take you to clients."))),n.a.createElement("div",{className:"card"},n.a.createElement("img",{src:"https://res.cloudinary.com/ddfufqlbx/image/upload/v1578100649/crowd.png",alt:"step-2"}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h4",{className:"h5"},"Clients come to you"),n.a.createElement("p",{className:"card-text"},"Reach genuine people within and outside your locality without moving a muscle."))),n.a.createElement("div",{className:"card"},n.a.createElement("img",{src:"https://res.cloudinary.com/ddfufqlbx/image/upload/v1578098885/deal-icon.png",alt:"step-3"}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h4",{className:"h5"},"Get a good deal"),n.a.createElement("p",{className:"card-text"},"Find the customer with the best offer and get more value for your property.")))),n.a.createElement("div",{className:"row list-now-strip"},n.a.createElement("h1",{className:"col-10"},n.a.createElement("span",{className:"d-block paragraph"},"Thousands of Kenyans are looking for property to buy/rent in Bungoma County"),n.a.createElement("span",{className:"d-block h2"},"Lease or sell propety in Bungoma County"))," ",n.a.createElement("button",{className:"btn",id:"strip-button",onClick:function(){return u()}},"List your Property")),n.a.createElement("div",{className:"d-flex",id:"extras"},n.a.createElement("div",{className:"col-3"},n.a.createElement("h4",null,"Join the movement")),n.a.createElement("div",{className:"d-flex border",id:"extras-cat"},n.a.createElement("div",{className:"cat-div"},n.a.createElement("h5",null,"For professional surveyors"),n.a.createElement("p",null,"Register into our database of surveyors and find clients that are looking for your services")),n.a.createElement("div",{className:"border-left border-right border-darken-5 cat-div",id:"mid-cat-div"},n.a.createElement("h5",null,"For property lawyers"),n.a.createElement("p",null,"Join the movement and help property buyers with the required legal process")),n.a.createElement("div",{className:"cat-div",id:"last-cat-div"},n.a.createElement("h5",null,"For property agents"),n.a.createElement("p",null,"Help property buyers and sellers reach properties in your locality with ease"))))))},B=function(e){e.state;var a=Object(r.useState)({}),t=Object(s.a)(a,2),l=t[0],c=t[1],o=k(),u=Object(s.a)(o,5),d=u[0],E=u[1],g=u[2],b=u[3],f=u[4],h=function(e){var a=e.target.type,t=e.target.value;c("email"===a?Object(i.a)({},l,{email:t}):Object(i.a)({},l,{password:t}))};return n.a.createElement(n.a.Fragment,null,E.isError?n.a.createElement("div",{className:"antd-holder"},n.a.createElement(m.a,{message:E.message,className:"antd-alert",closable:!0,type:"error",closeText:"Dismiss!"})):n.a.createElement("div",{className:"display-none"}),n.a.createElement("form",{className:"signupForm",onSubmit:function(e){e.preventDefault(),g("".concat("https://bungomaplus.herokuapp.com/api/auth/login/")),b(l),f(!0)}},n.a.createElement("h4",{className:"h5 pb-3"},d?"Please wait...":"Login to Continue..."),n.a.createElement("div",{className:"form-group"},n.a.createElement(p,{inputType:"inputEmail",type:"email",onchange:function(e){return h(e)},placeholder:"eg. wekesa@gmail.com",typeText:"Email",className:"form-control"})),n.a.createElement("div",{className:"form-group"},n.a.createElement(p,{inputType:"inputPassword",type:"password",onchange:function(e){return h(e)},placeholder:"*****",typeText:"Password",className:"form-control"})),n.a.createElement("button",{type:"submit",disabled:d,className:"btn btn-primary btn-block"},d?"Loging in..":"Login")))},I=t(92),K=t.n(I),P=t(272),D=t(48),_=t(274),F=t(270);K.a.setApiKey("AIzaSyB_K1Lb4mVmOFlLpmABl-TVYPu7AB9ReDk");var W,z=["Elgon","Kanduyi","Sirisia","Kabuchai","Bumula","WebuyeEast","WebuyeWest","Kimilili","Tongaren"],R={Kanduyi:["BukembeWest","BukembeEast","Township","Khalaba","Musikoma","EastSanagalo","Marakatu","Tuuti","WestSangalo"],Sirisia:["Namwela","MalakisiSouth","Kulisiru","Lwandanyi"],Bumula:["Bumula","Khasoko","Kabula","Kimaeti","SouthBukusu","Siboti"],Elgon:["Cheptais","Chesikaki","Chepyuk","Kapkateny","Kaptama","Elgon"],Kabuchai:["Chwele","WestNalondo","BwakeLuuya","Mukuyuni","SouthBukusu"],WebuyeEast:["Mihuu","Ndivisi","Maraka"],WebuyeWest:["Sitikho","Matulo","Bokoli"],Kimilili:["Kibingei","Kimilili","Maeni","Kamukuywa"],Tongaren:["Mbakalo","Kabuyefwe","Milima","NdaluTabani","Tongaren","SoysambuMitua"]},M=["Land","Hostel","Rental","Stall","Office"],q=P.a.Meta,J=function(e){var a=e.state,t=window.innerWidth,l=Object(r.useState)(R[z[0]]),c=Object(s.a)(l,2),o=c[0],p=c[1],u=Object(r.useState)(R[z[0]][0]),E=Object(s.a)(u,2),f=E[0],h=E[1],v=Object(r.useState)({}),y=Object(s.a)(v,2),N=(y[0],y[1]),j=Object(r.useState)({division:R[z[0]],ward:f,title:"",description:"",locality:"Nambwa Area",image:"https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=666&q=80"}),k=Object(s.a)(j,2),S=k[0],L=k[1],A=Object(r.useState)(""),T=Object(s.a)(A,2),B=T[0],I=T[1],W=Object(r.useState)("https://bungomaplus.herokuapp.com/api/properties/"),J=Object(s.a)(W,2),Y=J[0],G=J[1],H=function(){var e=Object(r.useState)({}),a=Object(s.a)(e,2),t=a[0],n=a[1],l=Object(r.useState)(""),c=Object(s.a)(l,2),o=c[0],m=c[1],p=Object(r.useState)(!1),u=Object(s.a)(p,2),E=u[0],f=u[1],h=Object(r.useState)({isError:!1,message:""}),v=Object(s.a)(h,2),y=v[0],N=v[1],j=Object(r.useState)(!1),k=Object(s.a)(j,2),S=k[0],C=k[1],x=Object(r.useState)(!1),L=Object(s.a)(x,2),A=L[0],T=L[1],B=Object(r.useState)({}),I=Object(s.a)(B,2),K=(I[0],I[1],Object(r.useContext)(w),JSON.parse(localStorage.getItem("token")).access),P={"Content-Type":"application/json",Authorization:"Bearer ".concat(K)};return b((function(){d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return N(Object(i.a)({},y,{isError:!1})),C(!0),e.prev=2,e.next=5,d.a.awrap(g.a.post(o,t,{headers:P}));case 5:e.sent,C(!1),T(!1),O.a.success("Your property was successfully added!"),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0.response),f(!1),C(!1),"Network Error"===e.t0.message?N(Object(i.a)({},y,{message:"Seems you're offline!",isError:!0})):400===e.t0.response.status?N(Object(i.a)({},y,{message:"You have a similar property exists!",isError:!0})):401===e.t0.response.status?N({error:y,message:"Session expired! Please loggin.",isError:!0}):console.log(y);case 17:case"end":return e.stop()}}),null,null,[[2,11]])}),[o,E]),[T,A,S,y,m,n,f]}(),V=Object(s.a)(H,7),U=V[0],Q=V[1],$=V[2],Z=V[3],X=V[4],ee=V[5],ae=V[6],te=function(e){var a=e.target.id,t=e.target.value;switch(a){case"title":return L(Object(i.a)({},S,{title:t}));case"description":return L(Object(i.a)({},S,{description:t}));default:return}},re=function(e){document.getElementById(e).classList.remove("hiddentity"),document.getElementById(e).classList.add("showEntity",e),document.querySelectorAll("div.showEntity").forEach((function(a){Array.from(a.classList).includes(e)||(a.classList.remove("showEntity"),a.classList.add("hiddentity"))}))},ne=function(e){L(Object(i.a)({},S,{wifi:e}))};return console.log(S,Y),n.a.createElement("div",{class:"container dashboard-container"},n.a.createElement("div",{class:"row"},n.a.createElement("div",{class:"col-lg-4"},n.a.createElement(P.a,{className:"col-lg-12 profile-card",style:{width:250},cover:n.a.createElement("img",{alt:"profile",src:"https://os.alipayobjects.com/rmsportal/QBnOOoLaAfKPirc.png",className:"img-thumbnail",style:{height:200}})},n.a.createElement(q,{description:a.user.user.email}))),n.a.createElement("div",{class:"col-lg-8 "},n.a.createElement(D.a,{className:"empty",image:"https://gw.alipayobjects.com/mdn/miniapp_social/afts/img/A*pevERLJC9v0AAAAAAAAAAABjAQAAAQ/original",imageStyle:{height:60},description:n.a.createElement("span",null,"Your properties will show here")},n.a.createElement("button",{type:"button",className:"btn btn-sm",onClick:function(){U(!0),L(Object(i.a)({},S,{owner:a.user.user.id}))}},n.a.createElement(C.a,{icon:x.e})," Add Property")))),n.a.createElement(_.a,{zIndex:2e3,title:$?"Please wait. We are creating your ".concat(B,"..."):"New Property",width:t<1200?"100%":"60%",onClose:function(){U(!1)},visible:Q},n.a.createElement("div",null,Z.isError?n.a.createElement("div",{className:"antd-holder"},n.a.createElement(m.a,{message:Z.message,className:"antd-alert",closable:!0,type:"error",closeText:"Dismiss!"})):n.a.createElement("div",null),n.a.createElement("form",{name:"newProperty",className:"pb-5",onSubmit:function(e){e.preventDefault(),X("".concat(Y)),ee(S),ae(!0)}},n.a.createElement("div",{className:"form-row"},n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",null,"Title: "),n.a.createElement("input",{className:"form-control form-control-sm",required:!0,placeholder:"eg. Fertile one acre for farming..",id:"title",onChange:function(e){return te(e)},name:"title"})),n.a.createElement("div",{className:" form-group col-md-2"},n.a.createElement("label",null,"Constituency:"),n.a.createElement("select",{onChange:function(e){var a=e.target.value;p(R[a]),h(R[a][0]),K.a.fromAddress("".concat(f,"+").concat(a)).then((function(e){var t=e.results[0].geometry.location,r=t.lat,n=t.lng;L(Object(i.a)({},S,{division:a,longitude:n,latitude:r}))}),(function(e){L(Object(i.a)({},S,{division:a,longitude:34.5777565,latitude:.5949997}))}))},class:"form-control form-control-sm",name:"division"},n.a.createElement("option",{disabled:!0,selected:!0},"-- select --"),z.map((function(e){return n.a.createElement("option",{key:e},e)})))),n.a.createElement("div",{className:"form-group col-md-2"},n.a.createElement("label",null,"Ward: "),n.a.createElement("select",{name:"ward",value:f,onChange:function(e){var a=e.target.value;h(a),L(Object(i.a)({},S,{ward:a}))},class:"form-control form-control-sm"},n.a.createElement("option",{disabled:!0,selected:!0},"-- select --"),o.map((function(e){return n.a.createElement("option",{key:e},e)}))))),n.a.createElement("div",{className:"form-row"},n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",null,"Description: "),n.a.createElement("textarea",{name:"description",required:!0,placeholder:"Enter a detailed description of your property",id:"description",onChange:function(e){return te(e)},rows:4,className:"form-control form-control-sm"})),n.a.createElement("div",{className:" form-group col-md-2"},n.a.createElement("label",null,"Price:\xa0\xa0"),n.a.createElement("div",{class:"input-group input-group-sm"},n.a.createElement("div",{class:"input-group-prepend"},n.a.createElement("div",{class:"input-group-text"},"Kes")),n.a.createElement("input",{name:"price",type:"number",class:"form-control form-control-sm",id:"inlineFormInputGroup",onChange:function(e){var a=e.target.value;L(Object(i.a)({},S,{price:a}))},min:100,step:100,required:!0}))),n.a.createElement("div",{className:"form-group col-md-2"},n.a.createElement("label",null,"Property Type:\xa0\xa0"),n.a.createElement("select",{name:"type",class:"form-control form-control-sm",onChange:function(e){var a,t=e.target.value;switch(a="".concat(t.toLowerCase()),G("".concat("https://bungomaplus.herokuapp.com/api/properties/").concat(a,"s/")),I(t),L("Land"===t?Object(i.a)({},S,{property_type:1}):"Office"===t?Object(i.a)({},S,{property_type:2}):"Rental"===t?Object(i.a)({},S,{property_type:3}):"Stall"===t?Object(i.a)({},S,{property_type:4}):Object(i.a)({},S,{property_type:5})),t){case"Land":N({}),re("land");break;case"Rental":N({}),re("rental");break;case"Office":N({}),re("office");break;case"Stall":N({}),re("stall");break;case"Hostel":N({}),re("hostel");break;default:return}}},n.a.createElement("option",{id:"firsoption",disabled:!0,selected:!0},"-- select --"),M.map((function(e){return n.a.createElement("option",{key:e},e)}))))),n.a.createElement("div",{className:"form-row hiddentity",id:"land"},n.a.createElement("div",{className:"form-group col-md-2"},n.a.createElement("label",null,"Leasing or Seling:\xa0"),n.a.createElement(F.a,{checkedChildren:"Leasing",unCheckedChildren:"Selling",onChange:function(e){L(Object(i.a)({},S,{for_sale:e}))}})),n.a.createElement("div",{className:" form-group col-md-2"},n.a.createElement("label",null,"Size of Land:\xa0\xa0"),n.a.createElement("div",{class:"input-group input-group-sm"},n.a.createElement("div",{class:"input-group-prepend"},n.a.createElement("div",{class:"input-group-text"},"Acres")),n.a.createElement("input",{name:"land_size",type:"number",class:"form-control form-control-sm",id:"inlineFormInputGroup",onChange:function(e){var a=e.target.value;L(Object(i.a)({},S,{land_size:a}))},min:0,step:.1})))),n.a.createElement("div",{className:"form-row hiddentity",id:"rental"},n.a.createElement("div",{className:"form-group col-md-2"},n.a.createElement("label",null,"Water Available?\xa0\xa0"),n.a.createElement(F.a,{checkedChildren:"No",unCheckedChildren:"Yes",onChange:function(e){L(Object(i.a)({},S,{water:e}))}})),n.a.createElement("div",{className:" form-group col-md-2"},n.a.createElement("label",null,"Rooms:\xa0\xa0"),n.a.createElement("div",{class:"input-group input-group-sm"},n.a.createElement("div",{class:"input-group-prepend"},n.a.createElement("div",{class:"input-group-text"},"Rooms")),n.a.createElement("input",{name:"rooms",type:"number",class:"form-control form-control-sm",id:"inlineFormInputGroup",onChange:function(e){var a=e.target.value;L(Object(i.a)({},S,{rooms:a}))},min:1,step:1})))),n.a.createElement("div",{className:"form-row hiddentity",id:"office"},n.a.createElement("div",{className:" form-group col-md-3"},n.a.createElement("label",null,"Square Feet:\xa0\xa0"),n.a.createElement("div",{class:"input-group input-group-sm"},n.a.createElement("div",{class:"input-group-prepend"},n.a.createElement("div",{class:"input-group-text"},"Square Feet")),n.a.createElement("input",{name:"land_size",type:"number",class:"form-control form-control-sm",id:"inlineFormInputGroup",onChange:function(e){var a=e.target.value;L(Object(i.a)({},S,{square_feet:a}))},min:1,step:.1}))),n.a.createElement("div",{className:"form-group col-md-2"},n.a.createElement("label",null,"WiFi Avaialble? \xa0\xa0"),n.a.createElement(F.a,{checkedChildren:"No",unCheckedChildren:"Yes",onChange:ne}))),n.a.createElement("div",{className:"form-row hiddentity",id:"hostel"},n.a.createElement("div",{className:"form-group col-md-2"},n.a.createElement("label",null,"Gender Exclusive?\xa0"),n.a.createElement(F.a,{checkedChildren:"No",unCheckedChildren:"Yes",onChange:function(e){L(Object(i.a)({},S,{gender_exclusive:e}))}})),n.a.createElement("div",{className:"form-group col-md-2"},n.a.createElement("label",null,"WiFi Avaialble?\xa0\xa0"),n.a.createElement(F.a,{checkedChildren:"No",unCheckedChildren:"Yes",onChange:ne})),n.a.createElement("div",{className:"form-group col-md-2"},n.a.createElement("label",null,"Meals Available?:\xa0\xa0"),n.a.createElement(F.a,{checkedChildren:"No",unCheckedChildren:"Yes",onChange:function(e){L(Object(i.a)({},S,{meals:e}))}})),n.a.createElement("div",{className:"form-group col-md-2"},n.a.createElement("label",null,"Self Contained?\xa0\xa0"),n.a.createElement(F.a,{checkedChildren:"No",unCheckedChildren:"Yes",onChange:function(e){L(Object(i.a)({},S,{self_contained:e}))}}))),n.a.createElement("div",{className:"form-row hiddentity",id:"stall"}),n.a.createElement("button",{type:"submit",value:"Submit",className:"btn btn-sm"},$?"Creating...":"Create Property")))))},Y=t(276),G=t(271),H=function(){var e=j("properties/all"),a=Object(s.a)(e,1)[0],t=a.data,r=a.isLoading,l=a.error,c=function(e,a){return e.reduce((function(e,t){return(e[t[a]]=e[t[a]]||[]).push(t),e}),{})}(t,"property_type");return n.a.createElement("div",{className:"container-fluid pb-3",id:"properties-main"},n.a.createElement(Y.a,{loading:r,active:!0},l.isError?n.a.createElement("div",{className:"antd-holder"}," ",n.a.createElement(m.a,{message:l.message,className:"antd-alert",closable:!0,type:"error",closeText:"Dismiss!"})):n.a.createElement(n.a.Fragment,null,Object.keys(c).map((function(e){return n.a.createElement("div",{className:"type-devider"},n.a.createElement(G.a,{style:{padding:0,margin:0},orientation:"left"},n.a.createElement(C.a,{icon:x.b,size:"sm",color:"#e25822"})," ","Popular in ",e),n.a.createElement("ul",{className:"row pt-3"},c[e].slice(0,6).map((function(e){return n.a.createElement("li",{key:e.id,className:"navbar-nav card"},n.a.createElement("img",{src:e.image,alt:e.name,className:"card-img-top img-fluid"}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h4",{className:"card-title"},e.title.length>30?"".concat(e.title.slice(0,30),"..."):e.title),n.a.createElement("div",{className:"row pt-2 pb-4"},n.a.createElement("span",{className:"col-7"},e.locality," in ",e.ward,","," ",e.division),n.a.createElement("span",{className:"col-5",id:"price"},"Ksh. ",A(e.price))),n.a.createElement("a",{className:"btn btn-lg btn-block",href:"/"},"View property details")))}))),n.a.createElement("a",{className:"see-all",href:"/properties/".concat(e.toLowerCase())},n.a.createElement("span",{className:"see-all-highlight"},"All properties in ",e)))})))))},V=t(46),U=function(e){var a=e.text,t=e.link;return n.a.createElement("li",{className:"nav-item active"},n.a.createElement(V.a,{className:"nav-link",to:t},a))},Q=t(273),$=t(141),Z=t.n($),X=Q.a.Search,ee=window.innerWidth,ae=function(e){return function(a){var t=Object(r.useState)({}),l=Object(s.a)(t,2),c=l[0],o=l[1],i=j(a.endpoint),p=Object(s.a)(i,1)[0],u=p.data,d=p.isLoading,E=p.error,g=Object(r.useState)(!1),b=Object(s.a)(g,2),f=b[0],h=b[1],v=a.center,y=void 0===v?{lat:c.latitude,lng:c.longitude}:v,N=a.zoom,w=void 0===N?11:N;return n.a.createElement(Y.a,{loading:d,active:!0},E.isError?n.a.createElement("div",null,n.a.createElement(m.a,{message:E.message})):n.a.createElement(e,{data:u,state:a.state,drawer:f,openDrawer:function(e){return function(e){h(!0),o(u.filter((function(a){return parseInt(a.id)===parseInt(e)}))[0])}(e)},closeDrawer:function(){h(!1)},showThisProperty:c,isLoading:d,error:E,center:y,zoom:w}))}},te=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"marker-effect"}),n.a.createElement("span",{className:"marker"},n.a.createElement(C.a,{icon:x.d,color:"#1D832D",size:"2x"})))},re=function(e,a,t,r,l,c,s,o,i,m,p,u){return n.a.createElement("div",{className:"container-fluid type-container"},n.a.createElement("div",{className:o?"hiddentity":"header-strip sticky-top"},n.a.createElement("h3",{className:"h3"},"All ",p),n.a.createElement(X,{placeholder:"Search by area eg. Kimilili...",onSearch:function(e){return console.log(e)},enterButton:"Search"}),n.a.createElement("div",{className:"others-btn"},u.map((function(e){return n.a.createElement("a",{className:"btn btn-sm other-btn",href:"/properties/".concat(e)},e.charAt(0).toUpperCase()+e.slice(1))})))),n.a.createElement("ul",{className:"row pt-3"},c.map((function(r){return n.a.createElement("li",{key:r.id,className:"navbar-nav card"},n.a.createElement("img",{src:r.image,alt:r.name,className:"card-img-top img-fluid"}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h4",{className:"card-title"},r.title.length>30?"".concat(r.title.slice(0,30),"..."):r.title),n.a.createElement("div",{className:"row pt-2 pb-4"},n.a.createElement("span",{className:"col-7"},n.a.createElement(C.a,{icon:x.d,color:"#1D832D"})," ",n.a.createElement("em",null,r.locality," in ",r.ward,", ",r.division)),n.a.createElement("span",{className:"col-5",id:"price"},"Ksh. ",A(r.price))),n.a.createElement("button",{type:"button",value:r.id,onClick:function(e){return i(e.target.value)},className:"btn btn-lg btn-block"},"View property details")),n.a.createElement(_.a,{onClose:m,zIndex:2e3,visible:o,title:t?"Please wait! We are getting property details...":"".concat(l.title),width:ee<1200?"100%":"60%",className:ee<1200?"mobile-details-drawer":"lg-details-drawer"},n.a.createElement("div",{class:"card drawer-content-card"},n.a.createElement("div",{className:"d-flex upper-deetail-section"},n.a.createElement("div",{className:"maps-container"},n.a.createElement(Z.a,{bootstrapURLKeys:{key:"AIzaSyB_K1Lb4mVmOFlLpmABl-TVYPu7AB9ReDk"},defaultCenter:e,defaultZoom:a},n.a.createElement(te,{lat:l.latitude,lng:l.longitude}))),n.a.createElement("img",{src:l.image,class:"card-img-top",alt:l.title})),n.a.createElement("div",{class:"card-body"},n.a.createElement("div",null,1===l.property_type?n.a.createElement("div",null,n.a.createElement("div",{className:"property-specific-strip"},n.a.createElement("span",{className:""},n.a.createElement("em",{className:"psem"},"Kes\xa0",l.price),l.for_sale?null:"/year"),n.a.createElement("span",{className:"land-size"},"".concat(l.land_size," Acres"))),n.a.createElement("div",{className:"property-specific-strip"},l.for_sale?n.a.createElement("span",null,"Land for sale in"," ",n.a.createElement("em",{className:"em"},r.locality,", ",r.ward,","," ",r.division)):n.a.createElement("span",null,"Land for rent in"," ",n.a.createElement("em",{className:"em"},r.locality,", ",r.ward,","," ",r.division)))):2===l.property_type?n.a.createElement("div",null,n.a.createElement("div",{className:"property-specific-strip"},n.a.createElement("span",{className:""},n.a.createElement("em",{className:"psem"},"Kes\xa0",l.price),"/month"),n.a.createElement("div",{className:"non-price-spans"},n.a.createElement("span",{className:" property-specific-btn"},l.wifi?n.a.createElement(C.a,{icon:x.f}):"No WiFi"),n.a.createElement("span",{className:"land-size"},"".concat(l.square_feet," Sq."),"\xb2"))),n.a.createElement("div",{className:"property-specific-strip"},l.for_sale?n.a.createElement("span",null,"Office Space for sale in"," ",n.a.createElement("em",{className:"em"},r.locality,", ",r.ward,","," ",r.division)):n.a.createElement("span",null,"Office Space to let in"," ",n.a.createElement("em",{className:"em"},r.locality,", ",r.ward,","," ",r.division)))):3===l.property_type?n.a.createElement("div",{className:"property-specific-strip"},"Rentals"):4===l.property_type?n.a.createElement("div",null,n.a.createElement("div",{className:"property-specific-strip"},n.a.createElement("span",{className:""},n.a.createElement("em",{className:"psem"},"Kes\xa0",l.price),"/month")),n.a.createElement("div",{className:"property-specific-strip"},n.a.createElement("span",null,"Stall to let in \xa0",n.a.createElement("em",{className:"em"},r.locality,", ",r.ward,","," ",r.division)))):n.a.createElement("div",null,n.a.createElement("div",{className:"property-specific-strip"},n.a.createElement("span",{className:""},n.a.createElement("em",{className:"psem"},"Kes\xa0",l.price),"/sem"),n.a.createElement("div",{className:"non-price-spans"},n.a.createElement("span",{className:" property-specific-btn"},l.wifi?n.a.createElement(C.a,{icon:x.f}):"No WiFi"),n.a.createElement("span",{className:" property-specific-btn"},l.meals?"Meals":"No Meals"," "),n.a.createElement("span",{className:" property-specific-btn"},l.self_contained?"self-contained":"Shared Bathroom/Toilet"))),n.a.createElement("div",{className:"property-specific-strip"},n.a.createElement("span",null,"Hostels for rent in"," ",n.a.createElement("em",{className:"em"},r.locality,", ",r.ward,","," ",r.division))))),n.a.createElement("p",{className:"pt-2"},l.description),n.a.createElement("div",{className:"d-flex details-strip"},n.a.createElement("button",{className:"btn btn-sm other-btn for-sale-btn"},n.a.createElement("em",null,l.for_sale?"For Sale":"For Lease")),n.a.createElement("span",{className:"last-posted"},n.a.createElement("em",null,"Posted \xa0","".concat(function(e){var a=new Date,t=new Date(e),r=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),l=a.getFullYear(),c=new Date("".concat(l,"-0").concat(r,"-").concat(n));return Math.round((c-t)/86400193.536)}(l.created_at)," days ago")))),n.a.createElement("div",null,l.owner?n.a.createElement("div",null,n.a.createElement("a",{className:"btn rounded-0 email-btn",href:"mailto:".concat(l.owner.email,"?Subject=I%20am20%intrested%20in%20").concat(l.title.slice(0,20)),target:"_top"},"Email Owner"),n.a.createElement("a",{className:"btn rounded-0 call-btn",href:"tel:".concat(l.owner.phonenumber)},"Call Owner")):null)))))}))))},ne=(ae((function(e){var a=e.center,t=e.zoom,r=e.isLoading,n=(e.error,e.showThisProperty),l=e.data,c=e.drawer,s=e.openDrawer,o=e.closeDrawer;e.state;return re(a,t,r,0,n,l,0,c,s,o,"Rentals",["lands","hostels","stalls","offices"])})),ae((function(e){var a=e.center,t=e.zoom,r=e.isLoading,n=(e.error,e.showThisProperty),l=e.data,c=e.drawer,s=e.openDrawer,o=e.closeDrawer;e.state;return re(a,t,r,0,n,l,0,c,s,o,"Lands",["hostels","stalls","offices","rentals"])}))),le=ae((function(e){var a=e.center,t=e.zoom,r=e.isLoading,n=(e.error,e.showThisProperty),l=e.data,c=e.drawer,s=e.openDrawer,o=e.closeDrawer;e.state;return re(a,t,r,0,n,l,0,c,s,o,"Hostels",["lands","stalls","offices","rentals"])})),ce=ae((function(e){var a=e.center,t=e.zoom,r=e.isLoading,n=(e.error,e.showThisProperty),l=e.data,c=e.drawer,s=e.openDrawer,o=e.closeDrawer;e.state;return re(a,t,r,0,n,l,0,c,s,o,"Stalls",["lands","hostels","offices","rentals"])})),se=ae((function(e){var a=e.center,t=e.zoom,r=e.isLoading,n=(e.error,e.showThisProperty),l=e.data,c=e.drawer,s=e.openDrawer,o=e.closeDrawer;e.state;return re(a,t,r,0,n,l,0,c,s,o,"Offices",["lands","hostels","stalls","rentals"])})),oe=(W=function(e){var a=e.login,t=e.signup,r=e.loginLink,l=e.signupLink,c=e.logout,s=e.logoutText;return n.a.createElement("ul",{className:"navbar-nav"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(V.a,{className:"nav-link",to:r},a)),n.a.createElement("li",{className:"nav-item"},n.a.createElement(V.a,{className:"nav-link",to:l},t)),n.a.createElement("li",{className:"nav-item"},n.a.createElement(V.a,{onClick:c,className:"nav-link"},s)))},function(e){return e.loggedin?n.a.createElement(W,{login:e.user.user.email,loginLink:"/dashboard/users/".concat(e.user.user.id),logout:e.onClick,logoutText:"Logout"}):n.a.createElement(W,{signup:"Signup",login:"Login",loginLink:"/login",signupLink:"/signup"})}),ie=function(e){var a=e.state,t=Object(r.useContext)(w);return n.a.createElement(o.b,{history:h},n.a.createElement("div",null,n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-blue p-3 sticky-top"},n.a.createElement("a",{className:"navbar-brand",href:"/"},n.a.createElement("span",{className:"first-nb"},n.a.createElement(C.a,{icon:x.c,size:"1x",color:"#20A348"}),"\xa0BuyRent"),n.a.createElement("span",{className:"second-nb"},"Bungoma")),n.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#mobileNavbar","aria-controls":"mobileNavbar","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{class:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"mobileNavbar"},n.a.createElement("ul",{className:"navbar-nav mr-auto "},n.a.createElement(U,{text:"Home",link:"/"}),n.a.createElement(U,{text:"Buy Property",link:"/properties"}),n.a.createElement(U,{text:"Sell Property",link:"/dashboard/users/"})),n.a.createElement(oe,{user:a.user,loggedin:a.isLoggedIn,onClick:function(){t({type:v,user:null}),localStorage.clear(),h.push("/properties")}}))),n.a.createElement(o.c,null,n.a.createElement(o.a,{path:"/properties/lands",render:function(){return n.a.createElement(ne,{endpoint:"properties/lands",state:a})}}),n.a.createElement(o.a,{path:"/properties/hostels",render:function(){return n.a.createElement(le,{endpoint:"properties/hostels",state:a})}}),n.a.createElement(o.a,{path:"/properties/stalls",render:function(){return n.a.createElement(ce,{endpoint:"properties/stalls",state:a})}}),n.a.createElement(o.a,{path:"/properties/offices",render:function(){return n.a.createElement(se,{endpoint:"properties/offices",state:a})}}),n.a.createElement(o.a,{path:"/properties",component:H}),n.a.createElement(o.a,{path:"/signup",component:S}),n.a.createElement(o.a,{path:"/dashboard/users/:id",render:function(e){return n.a.createElement(J,Object.assign({},e,{state:a}))}}),n.a.createElement(o.a,{path:"/login",render:function(){return n.a.createElement(B,{state:a})}}),n.a.createElement(o.a,{path:"/",component:T}))))},me=function(){return n.a.createElement("div",null,n.a.createElement("footer",{className:"panel-footer"},n.a.createElement("p",null,"All right reserved. \xa92020")))},pe=(t(264),t(265),t(266),function(e,a){switch(a.type){case y:return Object(i.a)({},e,{isLoading:!1,isError:!1,user:a.user});case v:return Object(i.a)({},e,{user:a.user,isLoggedIn:!1});case N:return Object(i.a)({},e,{isLoggedIn:!0});default:return Object(i.a)({},e)}});var ue=function(){var e=JSON.parse(localStorage.getItem("user")),a=JSON.parse(localStorage.getItem("properties")),t=JSON.parse(localStorage.getItem("isLoggedIn")),l=Object(r.useReducer)(pe,{payload:{properties:a},isError:!1,isLoading:!1,error:null,user:e,isLoggedIn:t}),c=Object(s.a)(l,2),o=c[0],i=c[1];return console.log("Main app state",o),n.a.createElement(w.Provider,{value:i},n.a.createElement(ie,{state:o}),n.a.createElement(me,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[148,1,2]]]);
//# sourceMappingURL=main.9a18d2de.chunk.js.map